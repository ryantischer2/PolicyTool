<!DOCTYPE html>
<html>
<head>
    <title>Login Page</title>
</head>
<body>
    <h2>Login to Get Policy</h2>

    <!-- Display messages from the server -->
    {% if message %}
        <p>Error: {{ message }}</p>
    {% endif %}

    <!-- Form for entering credentials -->
    <form action="/" method="post">
        <label for="PSM_IP">PSM IP:</label><br>
        <input type="text" id="PSM_IP" name="PSM_IP"><br>

        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username"><br>

        <label for="password">Password:</label><br>
        <input type="password" id="password" name="password"><br><br>

        <input type="submit" value="Login">
    </form>
    <!-- Display policy if available -->
    {% if policies %}
    <h2>Select a Policy</h2>
    <ul>
        {% for policy in policies %}
            <li>
                <!-- Use loop.index0 as the identifier -->
                <a href="{{ url_for('get_policy_details', policy_id=loop.index0) }}">{{ policy }}</a>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No policies available.</p>
{% endif %}
</body>
</html>
